import { z } from 'zod';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ðŸ“‹ Schema Ø¨Ø±Ø§ÛŒ Ù…Ø­ØªÙˆØ§ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
export const learningContentSchema = z.object({
  title: z.string()
    .min(3, 'Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 3 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯')
    .max(200, 'Ø¹Ù†ÙˆØ§Ù† Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ Ø§Ø² 200 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯'),
  
  description: z.string()
    .min(10, 'ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯')
    .max(1000, 'ØªÙˆØ¶ÛŒØ­Ø§Øª Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ Ø§Ø² 1000 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯'),
  
  content_text: z.string()
    .min(50, 'Ù…Ø­ØªÙˆØ§ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 50 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯'),
  
  category: z.enum(['memory', 'focus', 'logic', 'problem_solving'], {
    errorMap: () => ({ message: 'Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯' })
  }),
  
  min_level: z.number()
    .int('Ø³Ø·Ø­ Ø¨Ø§ÛŒØ¯ Ø¹Ø¯Ø¯ ØµØ­ÛŒØ­ Ø¨Ø§Ø´Ø¯')
    .min(1, 'Ø­Ø¯Ø§Ù‚Ù„ Ø³Ø·Ø­ 1 Ø§Ø³Øª')
    .max(10, 'Ø­Ø¯Ø§Ú©Ø«Ø± Ø³Ø·Ø­ 10 Ø§Ø³Øª'),
  
  max_level: z.number()
    .int('Ø³Ø·Ø­ Ø¨Ø§ÛŒØ¯ Ø¹Ø¯Ø¯ ØµØ­ÛŒØ­ Ø¨Ø§Ø´Ø¯')
    .min(1, 'Ø­Ø¯Ø§Ù‚Ù„ Ø³Ø·Ø­ 1 Ø§Ø³Øª')
    .max(10, 'Ø­Ø¯Ø§Ú©Ø«Ø± Ø³Ø·Ø­ 10 Ø§Ø³Øª'),
  
  is_active: z.boolean().optional(),
}).refine((data) => data.max_level >= data.min_level, {
  message: 'Ø³Ø·Ø­ Ø­Ø¯Ø§Ú©Ø«Ø± Ø¨Ø§ÛŒØ¯ Ø¨Ø²Ø±Ú¯ØªØ± ÛŒØ§ Ù…Ø³Ø§ÙˆÛŒ Ø³Ø·Ø­ Ø­Ø¯Ø§Ù‚Ù„ Ø¨Ø§Ø´Ø¯',
  path: ['max_level'],
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ðŸ“ Schema Ø¨Ø±Ø§ÛŒ Ø¢Ø²Ù…ÙˆÙ† Ø´Ù†Ø§Ø®ØªÛŒ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
export const cognitiveTestSchema = z.object({
  title: z.string()
    .min(3, 'Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 3 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯')
    .max(200, 'Ø¹Ù†ÙˆØ§Ù† Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ Ø§Ø² 200 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯'),
  
  description: z.string()
    .max(500, 'ØªÙˆØ¶ÛŒØ­Ø§Øª Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ Ø§Ø² 500 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯')
    .optional(),
  
  test_type: z.enum(['placement', 'content_based'], {
    errorMap: () => ({ message: 'Ù†ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ† Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª' })
  }),
  
  time_limit_minutes: z.number()
    .int('Ø²Ù…Ø§Ù† Ø¨Ø§ÛŒØ¯ Ø¹Ø¯Ø¯ ØµØ­ÛŒØ­ Ø¨Ø§Ø´Ø¯')
    .min(5, 'Ø­Ø¯Ø§Ù‚Ù„ Ø²Ù…Ø§Ù† 5 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø§Ø³Øª')
    .max(180, 'Ø­Ø¯Ø§Ú©Ø«Ø± Ø²Ù…Ø§Ù† 180 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø§Ø³Øª'),
  
  passing_score: z.number()
    .min(0, 'Ù†Ù…Ø±Ù‡ Ù‚Ø¨ÙˆÙ„ÛŒ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ù†ÙÛŒ Ø¨Ø§Ø´Ø¯')
    .max(100, 'Ù†Ù…Ø±Ù‡ Ù‚Ø¨ÙˆÙ„ÛŒ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨ÛŒØ´ Ø§Ø² 100 Ø¨Ø§Ø´Ø¯'),
  
  target_level: z.number()
    .int()
    .min(1)
    .max(10)
    .optional(),
  
  min_level: z.number()
    .int()
    .min(1)
    .max(10),
  
  is_active: z.boolean().optional(),
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// â“ Schema Ø¨Ø±Ø§ÛŒ Ø³ÙˆØ§Ù„
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
export const questionSchema = z.object({
  text: z.string()
    .min(10, 'Ù…ØªÙ† Ø³ÙˆØ§Ù„ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 10 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯')
    .max(1000, 'Ù…ØªÙ† Ø³ÙˆØ§Ù„ Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ Ø§Ø² 1000 Ø­Ø±Ù Ø¨Ø§Ø´Ø¯'),
  
  question_type: z.enum(['multiple_choice', 'true_false', 'short_answer'], {
    errorMap: () => ({ message: 'Ù†ÙˆØ¹ Ø³ÙˆØ§Ù„ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª' })
  }),
  
  points: z.number()
    .int('Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø§ÛŒØ¯ Ø¹Ø¯Ø¯ ØµØ­ÛŒØ­ Ø¨Ø§Ø´Ø¯')
    .min(1, 'Ø­Ø¯Ø§Ù‚Ù„ Ø§Ù…ØªÛŒØ§Ø² 1 Ø§Ø³Øª')
    .max(100, 'Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ù…ØªÛŒØ§Ø² 100 Ø§Ø³Øª'),
  
  difficulty: z.enum(['easy', 'medium', 'hard'], {
    errorMap: () => ({ message: 'Ø³Ø·Ø­ Ø¯Ø´ÙˆØ§Ø±ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª' })
  }),
  
  choices: z.array(z.object({
    text: z.string().min(1, 'Ù…ØªÙ† Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª'),
    is_correct: z.boolean(),
  })).optional(),
});
